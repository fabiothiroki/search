{"version":3,"sources":["components/AirportSelector/AirportSelector.js","services/AirportService/airportService.js","components/Search/constants.js","components/Search/Search.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["throttled","throttle","searchTerm","fetch","then","response","json","getAirportsByTerm","formatAirportResults","results","selectedAirport","formattedData","push","locations","concat","AirportSelector","inputLabel","onError","onChange","name","useState","inputValue","setInputValue","setSelectedAirport","useQuery","error","data","Autocomplete","options","getOptionLabel","option","renderInput","params","TextField","label","variant","onInputChange","_event","newInputValue","_e","airport","value","FORM_FIELDS","useStyles","makeStyles","theme","paper","marginTop","spacing","form","width","submit","margin","formLine","Search","onSearchSubmitted","classes","useForm","control","handleSubmit","setValue","errors","formState","className","Typography","component","onSubmit","console","log","noValidate","Grid","container","item","xs","sm","defaultValue","rules","required","render","from_airport","field","type","style","InputLabelProps","shrink","id","Button","fullWidth","color","App","Container","maxWidth","CssBaseline","search","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","queryClient","QueryClient","ReactDOM","StrictMode","QueryClientProvider","client","document","getElementById"],"mappings":"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","file":"static/js/main.1a704be7.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { getAirportsByTerm } from \"../../services/AirportService/airportService\";\nimport throttle from \"lodash.throttle\";\nimport { useQuery } from \"react-query\";\nimport PropTypes from \"prop-types\";\n\nconst throttled = throttle((searchTerm) => getAirportsByTerm(searchTerm), 200);\n\nconst formatAirportResults = (results, selectedAirport) => {\n  const formattedData = [];\n\n  if (selectedAirport) {\n    formattedData.push(selectedAirport);\n  }\n\n  if (results && results.locations) {\n    return formattedData.concat(results.locations);\n  }\n\n  return formattedData;\n};\n\nexport const AirportSelector = ({ inputLabel, onError, onChange, name }) => {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [selectedAirport, setSelectedAirport] = useState(null);\n\n  const { error, data } = useQuery(\n    [\"airportData\", { inputValue, selectedAirport }],\n    () => throttled(inputValue)\n  );\n\n  if (error) {\n    onError(error);\n  }\n\n  return (\n    <Autocomplete\n      options={formatAirportResults(data, selectedAirport)}\n      getOptionLabel={(option) => option.name}\n      renderInput={(params) => (\n        <TextField {...params} label={inputLabel} variant=\"outlined\" />\n      )}\n      onInputChange={(_event, newInputValue) => {\n        setInputValue(newInputValue);\n      }}\n      onChange={(_e, airport) => {\n        setSelectedAirport(airport);\n        if (onChange) {\n          onChange(name, airport);\n        }\n      }}\n      value={selectedAirport}\n    />\n  );\n};\n\nAirportSelector.propTypes = {\n  inputLabel: PropTypes.string,\n  onError: PropTypes.func,\n  onChange: PropTypes.func,\n  name: PropTypes.string.isRequired,\n};\n","export const getAirportsByTerm = (searchTerm) => {\n  return fetch(\n    `https://api.skypicker.com/locations?location_types=airport&term=${searchTerm}`\n  ).then((response) => response.json());\n};\n","export const FORM_FIELDS = {\n  ORIGIN: \"origin\",\n  DESTINATION: \"destination\",\n  DEPARTURE_DATE: \"departureDate\",\n  RETURN_DATE: \"returnDate,\",\n};\n","import Typography from \"@material-ui/core/Typography\";\nimport { AirportSelector } from \"../AirportSelector/AirportSelector\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport TextField from \"@material-ui/core/TextField\";\nimport PropTypes from \"prop-types\";\nimport { FORM_FIELDS } from \"./constants\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(4),\n  },\n  form: {\n    width: \"100%\",\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  formLine: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport const Search = ({ onSearchSubmitted }) => {\n  const classes = useStyles();\n  const {\n    control,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n  } = useForm();\n  const onSubmit = (data) => console.log(data);\n\n  return (\n    <div className={classes.paper}>\n      <Typography component=\"h1\" variant=\"h5\">\n        Search Flights\n      </Typography>\n\n      <form onSubmit={handleSubmit(onSubmit)} noValidate>\n        <Grid container spacing={2} className={classes.formLine}>\n          <Grid item xs={12} sm={6}>\n            <Controller\n              name={FORM_FIELDS.ORIGIN}\n              control={control}\n              defaultValue={null}\n              rules={{ required: true }}\n              render={() => (\n                <AirportSelector\n                  name={FORM_FIELDS.ORIGIN}\n                  inputLabel=\"From\"\n                  onChange={setValue}\n                />\n              )}\n            />\n            {errors.from_airport && \"From is required\"}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Controller\n              name={FORM_FIELDS.DESTINATION}\n              control={control}\n              defaultValue={null}\n              rules={{ required: true }}\n              render={() => (\n                <AirportSelector\n                  name={FORM_FIELDS.DESTINATION}\n                  inputLabel=\"To\"\n                  onChange={setValue}\n                />\n              )}\n            />\n          </Grid>\n        </Grid>\n\n        <Grid container spacing={2} className={classes.formLine}>\n          <Grid item xs={12} sm={6}>\n            <Controller\n              name={FORM_FIELDS.DEPARTURE_DATE}\n              control={control}\n              defaultValue={null}\n              rules={{ required: true }}\n              render={(field) => (\n                <TextField\n                  name={FORM_FIELDS.DEPARTURE_DATE}\n                  label=\"Departure\"\n                  type=\"date\"\n                  defaultValue=\"2017-05-24\"\n                  style={{ width: \"100%\" }}\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                />\n              )}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              id=\"date\"\n              label=\"Return\"\n              type=\"date\"\n              defaultValue=\"2017-05-24\"\n              style={{ width: \"100%\" }}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n        </Grid>\n\n        <Button\n          className={classes.submit}\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Search\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nSearch.propTypes = {\n  onSearchSubmitted: PropTypes.func.isRequired,\n};\n","import { Search } from \"../Search/Search\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Container from \"@material-ui/core/Container\";\n\nexport const App = () => {\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <CssBaseline />\n      <Search onSearchSubmitted={(search) => console.log(search)} />\n    </Container>\n  );\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { QueryClientProvider, QueryClient } from \"react-query\";\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}